@import './src/fonts/fonts.css';

:root {
  --dark-primary-color: #333333;
  --light-primary-color: #f8f8f8;
  --screen-color: #a7af7c;
  --screen-light-color: #bebebe;
  --clear-color: #f00000;
  --clear-deep-color: #d20000;
  --equal-color: #2196f3;
  --equal-deep-color: #1479c9;
  --delete-color: #08979c;
  --delete-deep-color: #006d75;
  --transition-color: #ffffff5c;

  --span-size: 100px;
  --gap-size: calc(var(--span-size) / 3);
  --dark-calculator-background-shadow:
    25px 25px 75px rgba(0, 0, 0, 0.25),
    10px 10px 70px rgba(0, 0, 0, 0.25),
    inset -5px -5px 15px rgba(0, 0, 0, 0.5),
    inset 5px 5px 15px rgba(0, 0, 0, 0.5);
  --light-calculator-background-shadow:
    25px 25px 75px rgba(0, 0, 0, 0.15),
    10px 10px 70px rgba(0, 0, 0, 0.15),
    inset -5px -5px 15px rgba(0, 0, 0, 0.15),
    inset 5px 5px 15px rgba(0, 0, 0, 0.05);

  --light-text-shadow: 1px 1px 2px #fff;
  --dark-text-shadow: 1px 1px 2px #000;

  --text-area-width: calc(var(--span-size) * 4 + var(--gap-size) * 3);
  --text-area-screen-shadow:
    inset 2px 2px 10px var(--screen-light-color),
    inset -2px -2px 10px #fff;



  --light-span-color: rgb(250, 250, 250);
  --light-span-deep-color: rgb(244, 244, 244);
  --light-span-background: var(var(--light-span-color));
  --light-span-background-linear: linear-gradient(var(--light-span-color), var(--light-span-deep-color));
  --light-span-shadow:
    inset -8px 0 8px rgba(0, 0, 0, 0.15),
    inset 0 -8px 8px rgba(0, 0, 0, 0.25),
    0 0 10px 4px rgba(0, 0, 0, 0.5),
    10px 20px 25px rgba(0, 0, 0, 0.4);

  --dark-span-color: rgb(63, 63, 63);
  --dark-span-deep-color: rgb(47, 47, 47);
  --dark-span-background: var(--dark-span-color);
  --dark-span-background-linear: linear-gradient(var(--dark-span-color), var(--dark-span-deep-color));
  --dark-span-shadow:
    inset -8px 0 8px rgba(0, 0, 0, 0.15),
    inset 0 -8px 8px rgba(0, 0, 0, 0.25),
    0 0 10px 4px rgba(0, 0, 0, 0.5),
    10px 20px 25px rgba(0, 0, 0, 0.4);

  --image-size: 80px;
  --light-image-shadow:
    2px 2px 4px #fff,
    inset 2px 2px 4px rgba(0, 0, 0, 0.15);
  --light-image-active-shadow:
    2px 2px 4px rgba(0, 0, 0, 0.15),
    inset 2px 2px 4px rgba(255, 255, 255, 0.15);
  --dark-image-shadow:
    2px 2px 4px rgba(0, 0, 0, 0.15),
    -1px -1px 6px rgba(0, 0, 0, 0.15);
  --dark-image-active-shadow:
    2px 2px 4px #fff,
    inset 2px 2px 4px rgba(0, 0, 0, 0.15);
  --span-mousedown-shadow:
    inset -8px 0 8px rgba(0, 0, 0, 0.15),
    inset 0 -8px 8px rgba(0, 0, 0, 0.15),
    0px 0px 10px 5px rgba(0, 0, 0, 0.5);


  --dark-span-before-border: 1px solid var(--dark-primary-color);
  --dark-span-before-deep-background: rgb(45, 45, 45);
  --dark-span-before-background: rgb(77, 77, 77);
  --dark-span-before-background-linear:
    linear-gradient(90deg, var(--dark-span-before-deep-background), var(--dark-span-before-background));
  --dark-span-before-box-shadow:
    -5px -5px 15px rgba(0, 0, 0, 0.1),
    -1px -1px 5px 0.5px rgba(255, 255, 255, 0.05),
    10px 5px 10px rgba(0, 0, 0, 0.15);

  --light-span-before-border: 1px solid var(--light-primary-color);
  --light-span-before-deep-background: rgb(230, 230, 230);
  --light-span-before-background: rgb(239, 239, 239);
  --light-span-before-background-linear:
    linear-gradient(90deg, var(--light-span-before-deep-background), var(--light-span-before-background));
  --light-span-before-box-shadow:
    -10px -10px 10px rgba(255, 255, 255, 0.25),
    10px 5px 10px rgba(0, 0, 0, 0.15);

  --clear-before-background-linear: linear-gradient(120deg, var(--clear-color), var(--transition-color));
  --delete-before-background-linear: linear-gradient(120deg, var(--delete-color), var(--transition-color));
  --equal-before-background-linear: linear-gradient(120deg, var(--equal-color), var(--transition-color));
}

/* ====== 初始化 ====== */
*,
*::before,
*::after {
  /* 位置 */
  margin: 0;
  padding: 0;
  box-sizing: border-box;

  /* 修饰 - 字体 */
  font-family: monospace;
  color: var(--dark-primary-color);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* 修饰 - 样式 */
  text-decoration: none;
  list-style: none;
  text-align: center;
  user-select: none;
  -webkit-user-drag: none;
}

html,
body {
  /* 位置 */
  width: 100vw;
  min-height: 100vh;
  /* 布局 */
  display: grid;
  place-items: center;
  /* 修饰 */
  background: var(--dark-primary-color);
}

/* ====== .calculator ====== */
.calculator {
  /* 位置*/
  position: relative;
  max-width: 1200px;
  min-width: 300px;
  min-height: 400px;
  /* 布局 */
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: 120px repeat(5, 1fr);
  column-gap: var(--gap-size);
  row-gap: calc(var(--gap-size) * 4 / 5);
  /* 修饰 */
  padding: 60px;
  border-radius: 20px;
  box-shadow: var(--dark-calculator-background-shadow);
  text-shadow: var(--dark-text-shadow);
}

/* ====== #textarea ====== */
#textarea {
  /* 位置 */
  position: relative;
  width: var(--text-area-width);
  /* 布局 - 本层 */
  grid-column: span 4;
  /* 布局 - 下层 */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  /* 修饰 */
  border: none;
  border-radius: 10px;
  background: var(--screen-color);
  box-shadow: var(--text-area-screen-shadow);
}

#textarea input {
  /* 位置 */
  position: absolute;
  width: 100%;
  /* 修饰 - 整体 */
  padding: 0 10px;
  background: none;
  border: none;
  /* 修饰 - 字体 */
  font-family: 'Chakra';
  font-size: 3rem;
  line-height: 1em;
  text-align: right;
  /* 修饰 - 特性 */
  outline: none;
}

#textarea input:nth-child(1) {
  opacity: 0;
  display: none;
}

/* ====== toggle ====== */
.toggle {
  /* 位置 */
  position: absolute;
  top: 0;
  right: 0;
  /* 布局 */
  display: grid;
  place-items: center;
}

.toggle img {
  /* 位置 */
  position: relative;
  width: var(--image-size);
  height: var(--image-size);
  top: calc(var(--image-size) / 2);
  right: calc(var(--image-size) / 2);
  /* 修饰 */
  padding: 10px;
  border-radius: 5px;
}

.toggle img:nth-child(1) {
  display: block;
  filter: invert(1);
  box-shadow: var(--light-image-shadow)
}

.toggle img:nth-child(1):active {
  box-shadow: var(--light-image-active-shadow);
}

.toggle img:nth-child(2) {
  display: none;
  box-shadow: var(--dark-image-shadow);
}

.toggle img:nth-child(2):active {
  box-shadow: var(--dark-image-active-shadow);
}

/* ====== .calculator span ====== */
.calculator span {
  /* 位置 */
  position: relative;
  width: var(--span-size);
  height: var(--span-size);
  /* 布局 */
  display: grid;
  place-items: center;
  /* 修饰 - 整体 */
  background: var(--dark-span-background);
  box-shadow: var(--dark-span-shadow);
  /* 修饰 - 边框 */
  /* border: 1px solid #fff; */
  border-radius: 10px;
  /* 修饰 - 特性 */
  cursor: pointer;
}

.calculator span.mousedown {
  transform: translateY(3px);
  box-shadow: var(--span-mousedown-shadow);
}

.calculator span#clear {
  grid-column: span 2;
  width: 100%;
  background: var(--clear-deep-color);
}

.calculator span#plus {
  grid-row: span 2;
  height: 100%;
}

.calculator span#equal {
  background: var(--equal-deep-color);
}

.calculator span#delete {
  background: var(--delete-deep-color);
}

/* ====== .calculator before ====== */
.calculator span::before {
  /* 位置 */
  position: absolute;
  top: 6px;
  left: 6px;
  bottom: 10px;
  right: 12px;
  /* 布局 */
  display: grid;
  place-items: center;
  /* 修饰 - 整体*/
  background: linear-gradient(90deg, #2d2d2d, #4d4d4d);
  /* 修饰 - 字体 */
  color: var(--light-primary-color);
  font-size: 2rem;
  text-transform: uppercase;
  /* 修饰 - 边框 */
  border-top: var(--dark-span-before-border);
  border-bottom: var(--dark-span-before-border);
  border-left: var(--dark-span-before-border);
  box-shadow: var(--dark-span-before-box-shadow);
  border-radius: 10px;
  /* 修饰 - 特性 */
  content: '';
}

/* 让 gsap 的 before 权限低于这里即可锁定这里面的项目 */
.calculator span#clear::before {
  background: var(--clear-before-background-linear);
  border: none;
}

.calculator span#delete::before {
  background: var(--delete-before-background-linear);
  border: none;
}

.calculator span#equal::before {
  background: var(--equal-before-background-linear);
  border: none;
}